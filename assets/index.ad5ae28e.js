var Ge=Object.defineProperty,je=Object.defineProperties;var qe=Object.getOwnPropertyDescriptors;var ae=Object.getOwnPropertySymbols;var Ke=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable;var le=(e,t,n)=>t in e?Ge(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,de=(e,t)=>{for(var n in t||(t={}))Ke.call(t,n)&&le(e,n,t[n]);if(ae)for(var n of ae(t))He.call(t,n)&&le(e,n,t[n]);return e},ue=(e,t)=>je(e,qe(t));import{d as I,r as a,u as We,o as l,c as d,w as _,v as V,a as s,b as ze,i as K,e as m,f as Je,T as Qe,g as k,p as $,h as P,j as D,l as H,t as ce,F as g,k as T,m as v,n as f,q as E,s as w,x as O,y as L,z as Xe,A as j,B as U,C as J,D as me,E as Ye,G as xe,H as Ze,I as et,J as F,K as he,L as tt,M as fe,N as nt,O as rt,P as ot}from"./vendor.7d9b95dd.js";const st=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))o(p);new MutationObserver(p=>{for(const i of p)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(p){const i={};return p.integrity&&(i.integrity=p.integrity),p.referrerpolicy&&(i.referrerPolicy=p.referrerpolicy),p.crossorigin==="use-credentials"?i.credentials="include":p.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(p){if(p.ep)return;p.ep=!0;const i=n(p);fetch(p.href,i)}};st();const it="modulepreload",_e={},pt="/karp-editor/",be=function(t,n){return!n||n.length===0?t():Promise.all(n.map(o=>{if(o=`${pt}${o}`,o in _e)return;_e[o]=!0;const p=o.endsWith(".css"),i=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${i}`))return;const r=document.createElement("link");if(r.rel=p?"stylesheet":it,p||(r.as="script",r.crossOrigin=""),r.href=o,document.head.appendChild(r),p)return new Promise((u,c)=>{r.addEventListener("load",u),r.addEventListener("error",c)})})).then(()=>t())},at=s("div",{"i-carbon-campsite":"","text-4xl":"","inline-block":""},null,-1),lt=s("p",null,[s("a",{rel:"noreferrer",href:"https://github.com/antfu/vitesse-lite",target:"_blank"}," Vitesse Lite ")],-1),dt=s("p",null,[s("em",{"text-sm":"",op75:""},"Opinionated Vite Starter Template")],-1),ut=s("div",{"py-4":""},null,-1),ct=["onKeydown"],mt=["disabled"],xt=I({setup(e){const t=a(""),n=We(),o=()=>{t.value&&n.push(`/hi/${encodeURIComponent(t.value)}`)};return(p,i)=>(l(),d("div",null,[at,lt,dt,ut,_(s("input",{id:"input","onUpdate:modelValue":i[0]||(i[0]=r=>t.value=r),placeholder:"What's your name?",type:"text",autocomplete:"false",p:"x-4 y-2",w:"250px",text:"center",bg:"transparent",border:"~ rounded gray-200 dark:gray-700",outline:"none active:none",onKeydown:ze(o,["enter"])},null,40,ct),[[V,t.value]]),s("div",null,[s("button",{class:"m-3 text-sm btn",disabled:!t.value,onClick:o}," Go ",8,mt)])]))}}),ht=[{name:"index",path:"/",component:xt,props:!0},{name:"hi-name",path:"/hi/:name",component:()=>be(()=>import("./_name_.67ded992.js"),["assets/_name_.67ded992.js","assets/_name_.a35375db.css","assets/vendor.7d9b95dd.js"]),props:!0},{name:"all",path:"/:all(.*)*",component:()=>be(()=>import("./_...all_.293bfa1b.js"),["assets/_...all_.293bfa1b.js","assets/vendor.7d9b95dd.js"]),props:!0}];var h=(e,t)=>{const n=e.__vccOpts||e;for(const[o,p]of t)n[o]=p;return n};const ft=I({setup(e){const t=K("exprClipboard",null),n=K("updateClipboard"),o=a(""),p=a(!1);return{exprClipboard:t,updateClipboard:n,pasteString:o,pastedAlert:p}},methods:{updatePasteboard(){this.pasteString=this.exprClipboard==null?"":JSON.stringify(this.exprClipboard)},loadFromPasteboard(){this.pasteString!=null&&this.pasteString!=""&&(this.updateClipboard(JSON.parse(this.pasteString)),this.pastedAlert=!0,setTimeout(()=>{this.pastedAlert=!1},1e3))}}}),ve=e=>($("data-v-34631bee"),e=e(),P(),e),_t={class:"mx-2 my-2"},bt={class:"flex"},vt=ve(()=>s("span",null,"Import to Clipboard",-1)),yt=[vt],gt={class:"bg-blue-100 border-blue-300 text-blue-700 px-4 py-3 w-90",role:"alert"},Et=ve(()=>s("p",{class:"text-sm"},"Imported to the clipboard of current editor",-1)),Ct=[Et];function St(e,t,n,o,p,i){return l(),d("div",_t,[_(s("input",{class:"border-2 border-gray-400 focus:outline-none mb-1","onUpdate:modelValue":t[0]||(t[0]=r=>e.pasteString=r),onFocus:t[1]||(t[1]=r=>r.target.select())},null,544),[[V,e.pasteString,void 0,{trim:!0}]]),s("div",bt,[s("div",{class:"flex group mx-1 border-2 border-gray-200 hover:border-blue-400 w-40 mb-2 select-none",onClick:t[2]||(t[2]=(...r)=>e.loadFromPasteboard&&e.loadFromPasteboard(...r))},yt)]),m(Qe,{name:"fade"},{default:Je(()=>[_(s("div",gt,Ct,512),[[k,e.pastedAlert]])]),_:1})])}var $t=h(ft,[["render",St],["__scopeId","data-v-34631bee"]]);const Pt=I({emits:["menuItemSelected"],props:{deleteDisabled:{type:Boolean,default:!1},copyCutDisabled:{type:Boolean,default:!1}},setup(e){return{visible:a(!1)}},methods:{show(){this.visible=!0},hide(){this.visible=!1}}}),Bt={class:"contextMenu"},It={class:"list"};function Vt(e,t,n,o,p,i){return _((l(),d("div",Bt,[s("ul",It,[_(s("li",{onClick:t[0]||(t[0]=r=>e.$emit("menuItemSelected","delete"))},"Delete",512),[[k,!e.deleteDisabled]]),_(s("li",{onClick:t[1]||(t[1]=r=>e.$emit("menuItemSelected","copy"))},"Copy",512),[[k,!e.copyCutDisabled]]),_(s("li",{onClick:t[2]||(t[2]=r=>e.$emit("menuItemSelected","cut"))},"Cut",512),[[k,!e.copyCutDisabled]]),s("li",{onClick:t[3]||(t[3]=r=>e.$emit("menuItemSelected","paste"))},"Paste")])],512)),[[k,e.visible]])}var kt=h(Pt,[["render",Vt],["__scopeId","data-v-50d28e7c"]]);const ye=[{name:"Variables",exprs:[{display:"x",description:"an variable",exprProps:{noParentheses:!0},exprType:"VariableExpr"},{display:"<i>a</i>",description:"an abstract object with a name",exprProps:{noParentheses:!0},exprType:"SymbolExpr"}]},{name:"Number",exprs:[{display:"n",description:"a number",exprProps:{noParentheses:!0},exprType:"NumberExpr"},{display:"m + n",description:"plus (+)",exprProps:{op:"+",opDisplay:"+",infix:!0},exprType:"BinaryOpExpr"},{display:"m \u2212 n",description:"minus (-)",exprProps:{op:"-",opDisplay:"\u2212",infix:!0},exprType:"BinaryOpExpr"},{display:"m \u22C5 n",description:"times (\u22C5 , * , \xD7)",exprProps:{op:"*",opDisplay:"\u22C5",infix:!0},exprType:"BinaryOpExpr"},{display:"m &gt; n",description:"greater than, >",exprProps:{op:">",opDisplay:">",infix:!0},exprType:"BinaryOpExpr"},{display:"m &ge; n",description:"greater than or equals to, >=",exprProps:{op:">=",opDisplay:"\u2265",infix:!0},exprType:"BinaryOpExpr"},{display:"m &lt; n",description:"less than, <",exprProps:{op:"<",opDisplay:"<",infix:!0},exprType:"BinaryOpExpr"},{display:"m &le; n",description:"less than or equals to, <=",exprProps:{op:"<=",opDisplay:"\u2264",infix:!0},exprType:"BinaryOpExpr"}]},{name:"Logic",exprs:[{display:"<i>True</i>",description:"boolean value true",exprProps:{theConst:"#t",constDisplay:"True",noParentheses:!0},exprType:"ConstantExpr"},{display:"<i>False</i>",description:"boolean value false",exprProps:{theConst:"#f",constDisplay:"False",noParentheses:!0},exprType:"ConstantExpr"},{display:"m = n",description:"equals, ==",exprProps:{op:"equal?",opDisplay:"=",infix:!0},exprType:"BinaryOpExpr"},{display:"P \u2227 Q",description:"logical and (conjunction)",exprProps:{op:"and",opDisplay:"\u2227",infix:!0},exprType:"BinaryOpExpr"},{display:"P \u2228 Q",description:"logical or (disjunction)",exprProps:{op:"or",opDisplay:"\u2228",infix:!0},exprType:"BinaryOpExpr"},{display:"\xACP",description:"logical not (negation)",exprProps:{op:"not",opDisplay:"\xAC",lBracket:"",rBracket:""},exprType:"UnaryOpExpr"},{display:"\u23A7a if P,<br>\u23A9b o.w.",description:"conditional value, if P then a otherwise b",exprProps:{noParentheses:!0},exprType:"IfOtherwiseExpr"}]},{name:"CNF",exprs:[{display:"Clauses(\u03C6)",description:"get the set of clauses of a CNF",exprProps:{op:"clauses-of",opDisplay:"Clauses",noParentheses:!0},exprType:"UnaryOpExpr"},{display:"Vars(\u03C6)",description:"the set of all variables of a CNF",exprProps:{op:"vars-of",opDisplay:"Vars",noParentheses:!0},exprType:"UnaryOpExpr"},{display:"Literals(C)",description:"get the set of literals of a clause, i.e. {\xACx\u2081,x\u2082,x\u2083}",exprProps:{op:"literals-of",opDisplay:"Literals",noParentheses:!0},exprType:"UnaryOpExpr"},{display:"l\u2081 \u225F \xACl\u2082",description:"test if two literal are the negation of each other",exprProps:{op:"literal-neg-of?",opDisplay:"IsNegationOf?",noParentheses:!0},exprType:"BinaryOpExpr"},{display:"l \u225F x",description:"test if a literal is a positive literal",exprProps:{op:"positive-literal?",opDisplay:"Positve?",noParentheses:!0},exprType:"UnaryOpExpr"},{display:"l \u225F \xACx",description:"test if a literal is a negative literal",exprProps:{op:"negative-literal?",opDisplay:"Negative?",noParentheses:!0},exprType:"UnaryOpExpr"},{display:"\xACx\u2081 ---&gt; x\u2081",description:"the underlying variable of a literal",exprProps:{op:"underlying-var",opDisplay:"Var",noParentheses:!0},exprType:"UnaryOpExpr"}]},{name:"Pair",exprs:[{display:"(a, b)",description:"create an ordered pair of two elements",exprProps:{op:"tuple",opDisplay:"",noParentheses:!0},exprType:"BinaryOpExpr"},{display:"(a, b, c)",description:"create an ordered tuple of three elements",exprProps:{op:"tuple",opDisplay:"",noParentheses:!0},exprType:"TernaryOpExpr"},{display:"(a, b ...) ---&gt; a",description:"get the first element of a pair or tuple",exprProps:{op:"fst",opDisplay:"first",noParentheses:!0},exprType:"UnaryOpExpr"},{display:"(a, b ...) ---&gt; b",description:"get the second element of a pair or tuple",exprProps:{op:"snd",opDisplay:"second",noParentheses:!0},exprType:"UnaryOpExpr"},{display:"(a, b, c) ---&gt; c",description:"get the third element of a pair or tuple",exprProps:{op:"trd",opDisplay:"third",noParentheses:!0},exprType:"UnaryOpExpr"},{display:"{a,b,c} ---&gt; {(a,b),(a,c),(b,c)}",description:"get the set of all pairs of distinct elemtents of two sets",exprProps:{op:"all-pairs-in",opDisplay:"AllPairsIn",noParentheses:!0},exprType:"UnaryOpExpr"}]},{name:"Set",exprs:[{display:"{ f(x) | x \u2208 S, P(x) }",description:"describe a set by stating the properties of the members",exprType:"SetBuilderExpr",exprProps:{noParentheses:!0}},{display:"f(x) \u2208 { f(x) | x \u2208 S, P(x) } ---&gt; x",description:"find one x where the set element f(x) is created from",exprProps:{op:"corr",opDisplay:"corr",noParentheses:!0},exprType:"UnaryOpExpr"},{display:"|S|",description:"get the size (cardinality) of a set",exprProps:{op:"set-size",opDisplay:"",lBracket:"|",rBracket:"|",noParentheses:!0},exprType:"UnaryOpExpr"},{display:"S1 \u222A S2",description:"union of two sets",exprProps:{op:"set-\u222A",opDisplay:"\u222A",infix:!0},exprType:"BinaryOpExpr"},{display:"S1 \u2229 S2",description:"intersection of two sets",exprProps:{op:"set-\u2229",opDisplay:"\u2229",infix:!0},exprType:"BinaryOpExpr"},{display:"S1 \\ S2",description:"set difference of two sets",exprProps:{op:"set-minus",opDisplay:"\\",infix:!0},exprType:"BinaryOpExpr"},{display:"x \u2208 S",description:"test if x is a member of the set S",exprProps:{op:"set-\u2208",opDisplay:"\u2208",infix:!0},exprType:"BinaryOpExpr"},{display:"find-one x \u2208 S s.t. P(x)",description:"find an element from a set",exprProps:{},exprType:"FindOneExpr"},{display:"\u2200 x \u2208 S, P(x)",description:"test if all elements of set S satisfying P (forall)",exprProps:{op:"\u2200",opDisplay:"\u2200"},exprType:"QuantifierExpr"},{display:"\u2203 x \u2208 S, P(x)",description:"test if there exists some element of set S satisfying P",exprProps:{op:"\u2203",opDisplay:"\u2203"},exprType:"QuantifierExpr"},{display:"x<sup>i</sup> \u2208 S ---&gt; i ",description:"get the index of an element in a set",exprProps:{op:"index-in",opDisplay:"IndexIn",noParentheses:!0},exprType:"BinaryOpExpr"},{display:"{x}",description:"create a singleton set",exprProps:{op:"set",opDisplay:"",lBracket:"{",rBracket:"}"},exprType:"UnaryOpExpr"},{display:"{x, y}",description:"create a set with two elements",exprProps:{op:"set",opDisplay:"",lBracket:"{",rBracket:"}"},exprType:"BinaryOpExpr"}]},{name:"Mapping",exprs:[{display:"[x -&gt; f(x) | x \u2208 S ]",description:"describe a mapping",exprProps:{},exprType:"MappingBuilderExpr"},{display:"f(x)",description:"lookup the image of an element in a mapping",exprProps:{},exprType:"MappingLookupExpr"}]},{name:"Graph",exprs:[{display:"V(G)",description:"Get the set of vertices of a graph",exprProps:{op:"vertices-of",opDisplay:"V"},exprType:"UnaryOpExpr"},{display:"E(G)",description:"Get the set of edges of a graph",exprProps:{op:"edges-of",opDisplay:"E"},exprType:"UnaryOpExpr"},{display:"&lt;V,E&gt;",description:"create a graph with vertex set and edge set",exprProps:{op:"create-graph",opDisplay:"",lBracket:"<",rBracket:">"},exprType:"BinaryOpExpr"},{display:"{u, v}",description:"create an undirected edge (set) with two vertices",exprProps:{op:"-e-",opDisplay:"--",infix:!0},exprType:"BinaryOpExpr"},{display:"endpoints(e)",description:"the set of endpoints of an edge",exprProps:{op:"endpoints",opDisplay:"endpoints",noParentheses:!0},exprType:"UnaryOpExpr"},{display:"incident?(e, v)",description:"if v is an endpoint of e",exprProps:{op:"incident?",opDisplay:"incident?",noParentheses:!0},exprType:"BinaryOpExpr"},{display:"N(G, v)",description:"the set of neighbors of a vertex in a graph",exprProps:{op:"neighbors",opDisplay:"N",noParentheses:!0},exprType:"BinaryOpExpr"},{display:"v(e)",description:"one endpoint of an edge",exprProps:{op:"e-u",opDisplay:"v",noParentheses:!0},exprType:"UnaryOpExpr"},{display:"v&#39;(e)",description:"the other endpoint of an edge, different from v(e)",exprProps:{op:"e-v",opDisplay:"v'",noParentheses:!0},exprType:"UnaryOpExpr"}]}];const Tt=I({props:{environment:{type:Object,default:[]}},emits:["exprSelected"],setup(e){const t=D(e.environment),n=D([...H.exports.cloneDeep(e.environment),...H.exports.cloneDeep(ye)]),o=a("");return{environment:t,exprInfos:n,searchString:o}},methods:{applySearchFilter(e){this.exprInfos=[...H.exports.cloneDeep(ce(this.environment)),...H.exports.cloneDeep(ye)],this.searchString!==""&&(this.exprInfos.forEach(t=>{t.exprs=t.exprs.filter(n=>n.description.search(this.searchString.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))>=0)}),this.exprInfos=this.exprInfos.filter(t=>t.exprs.length>0))},exprSelected(e,t,n){this.$emit("exprSelected",e)}}}),wt={class:"exprSelect"},Ot={class:"searchBar"},Ft={class:"list"},At={class:"groupTitle"},Dt=["onClick"],Nt={class:"itemContent"},Rt=["innerHTML"],Lt={key:0,class:"itemContent"};function Ut(e,t,n,o,p,i){return l(),d("div",wt,[s("div",Ot,[_(s("input",{placeholder:"\u{1F50D} Search","onUpdate:modelValue":t[0]||(t[0]=r=>e.searchString=r),onInput:t[1]||(t[1]=(...r)=>e.applySearchFilter&&e.applySearchFilter(...r))},null,544),[[V,e.searchString,void 0,{trim:!0}]])]),s("ul",Ft,[(l(!0),d(g,null,T(e.exprInfos,(r,u)=>(l(),d("ul",null,[s("li",At,v(r.name),1),(l(!0),d(g,null,T(r.exprs,(c,x)=>(l(),d("li",{class:"exprItem",onClick:f(y=>e.exprSelected(c,u,x),["stop"])},[s("div",Nt,[s("span",{innerHTML:c.display},null,8,Rt)]),c.description.length>0?(l(),d("div",Lt,v(c.description),1)):E("",!0)],8,Dt))),256))]))),256))])])}var Mt=h(Tt,[["render",Ut],["__scopeId","data-v-3d517a90"]]),b={BORDER_COLOR_ACTIVE:"#3465a4",BORDER_COLOR_INACTIVE:"#dddddd",BACKGROUND_COLOR_ACTIVE:"white",BACKGROUND_COLOR_INACTIVE:"#eeeeee",GLOBAL_BACKGROUND:"#f7fbff",ERROR_COLOR:"#cc4b00"};const Q={props:{optional:Boolean},emits:["switchComponent"],setup(e){const t=a(!e.optional),n=w(()=>({borderColor:t.value?b.BORDER_COLOR_ACTIVE:b.BORDER_COLOR_INACTIVE,backgroundColor:t.value?b.BACKGROUND_COLOR_ACTIVE:b.BORDER_COLOR_INACTIVE,width:t.value?"60px":"10px"}));return{active:t,computedStyle:n}},methods:{toSExpr(){return"( )"},saveExpr(){return{exprType:"HoleExpr"}},loadExpr(e){}}},ge=()=>{O(e=>({b5eb3e5e:e.computedStyle.width,"71741820":e.computedStyle.backgroundColor,"04140562":e.computedStyle.borderColor}))},Ee=Q.setup;Q.setup=Ee?(e,t)=>(ge(),Ee(e,t)):ge;const Gt=Q;function jt(e,t,n,o,p,i){return l(),d("div",{class:"hole",onOnclick:t[0]||(t[0]=r=>e.$emit("switchComponent"))},null,32)}var X=h(Gt,[["render",jt],["__scopeId","data-v-e91d42b2"]]);const Y={props:{maxVarLength:{type:Number,default:2},optional:{type:Boolean,default:!1},bindingVar:{type:String,default:""},verticalPosition:String},emits:["bindingUpdated"],setup(e){const t=a(!1);t.value=L(e.bindingVar)!=="";const n=a(e.bindingVar);Xe(()=>e.bindingVar,(u,c)=>{n.value=u,t.value=n.value!==""});const o=a(!e.optional),p=e.verticalPosition=="superscript",i=e.verticalPosition=="subscript",r=w(()=>({borderColor:t.value?b.GLOBAL_BACKGROUND:o.value?b.BORDER_COLOR_ACTIVE:b.BORDER_COLOR_INACTIVE,backgroundColor:t.value?b.GLOBAL_BACKGROUND:o.value?b.BACKGROUND_COLOR_ACTIVE:b.BACKGROUND_COLOR_INACTIVE,width:p||i?"10px":"20px",hoverWidth:p||i?"10px":"20px",inputWidth:p||i?`${Math.max(5,n.value.length*8)}px`:`${Math.max(15,n.value.length*15)}px`,minHeight:p||i?"15px":"30px",borderRadius:p||i?"5px":"15px",fontSize:p||i?"15px":"20px",marginBottom:p?"20px":"5px",marginTop:i?"20px":"5px"}));return{active:o,isFilled:t,computedStyle:r,theBindingVar:n}},methods:{updateBinding(e){this.active=this.optional?this.theBindingVar!==""?!0:this.active:!0},outFocus(e){this.active=this.optional?this.theBindingVar!=="":!0,this.isFilled=this.theBindingVar!==""},varNameChanged(e){this.$emit("bindingUpdated",this.isFilled,this.theBindingVar)},toSExpr(){return this.theBindingVar===""?"[_]":this.theBindingVar+"_"}}},Ce=()=>{O(e=>({"564cca38":e.computedStyle.width,"7ebadb2c":e.computedStyle.borderRadius,"6d30b18b":e.computedStyle.minHeight,"36e0d039":e.computedStyle.marginTop,"1d1370c7":e.computedStyle.marginBottom,a4e9a672:e.computedStyle.backgroundColor,"1a74f4ee":e.computedStyle.borderColor,"3f6134b8":e.computedStyle.hoverWidth,"3a9a573e":e.computedStyle.fontSize,fc26e22c:e.computedStyle.inputWidth}))},Se=Y.setup;Y.setup=Se?(e,t)=>(Ce(),Se(e,t)):Ce;const qt=Y,Kt={class:"hole"},Ht=["maxlength"];function Wt(e,t,n,o,p,i){return l(),d("div",Kt,[_(s("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>o.theBindingVar=r),onInput:t[1]||(t[1]=(...r)=>i.updateBinding&&i.updateBinding(...r)),onChange:t[2]||(t[2]=(...r)=>i.varNameChanged&&i.varNameChanged(...r)),onBlur:t[3]||(t[3]=(...r)=>i.outFocus&&i.outFocus(...r)),maxlength:n.maxVarLength},null,40,Ht),[[V,o.theBindingVar,void 0,{trim:!0}]])])}var Z=h(qt,[["render",Wt],["__scopeId","data-v-33c1ee99"]]);const zt={props:{environment:{type:Array,default:[]},indexable:{type:Boolean,default:!0},bindingVar:{type:String,default:""},indexBindingVar:{type:String}},emits:["elementBindingUpdated","indexBindingUpdated"],setup(e){const t=e.indexable,n=a(e.bindingVar),[o,p,i]=[a(null),a(null),a(null)];return{indexable:t,setExpr:o,theBindingVar:n,bindingVariable:p,indexBindingVariable:i}},methods:{elementBindingUpdate(e,t){this.$emit("elementBindingUpdated",e,t)},indexBindingUpdate(e,t){this.$emit("indexBindingUpdated",e,t)},toSExpr(){return`[${this.indexable&&this.indexBindingVariable.isFilled?`(${this.bindingVariable.toSExpr()} #:index ${this.indexBindingVariable.toSExpr()})`:this.bindingVariable.toSExpr()} \u2208 ${this.setExpr.toSExpr()}]`},saveFragment(){return{setExpr:this.setExpr.saveExpr()}},loadFragment(e){this.setExpr.loadExpr(e.setExpr)}}},Jt=e=>($("data-v-4c9f032b"),e=e(),P(),e),Qt={class:"blockPart"},Xt=Jt(()=>s("span",null,"\u2208",-1));function Yt(e,t,n,o,p,i){const r=Z,u=S;return l(),d("div",Qt,[m(r,{ref:"bindingVariable",bindingVar:n.bindingVar,onBindingUpdated:i.elementBindingUpdate},null,8,["bindingVar","onBindingUpdated"]),o.indexable?(l(),j(r,{key:0,ref:"indexBindingVariable",bindingVar:n.indexBindingVar,onBindingUpdated:i.indexBindingUpdate,optional:"","vertical-position":"superscript"},null,8,["bindingVar","onBindingUpdated"])):E("",!0),Xt,m(u,{ref:"setExpr",environment:n.environment},null,8,["environment"])])}var W=h(zt,[["render",Yt],["__scopeId","data-v-4c9f032b"]]);const Zt={props:{environment:{type:Array,default:[]},exprProps:{type:Object,required:!0}},setup(e){const t=a(null),n=!0,[o,p]=[a(null),a(null)],i=a([0]),r=[a(null)],u=[a("")],c=[a("")],x=a(0),y=a(!1);return{block:t,active:n,bindingComponentIds:i,bindingComponents:r,bindingN:x,theBindingVars:u,indexBindingVars:c,elementExpr:o,predicateExpr:p,hasPredicate:y}},methods:{addElementBinding(e){this.bindingComponentIds.push({id:++this.bindingN}),this.bindingComponents.push(a(null)),this.theBindingVars.push(a("")),this.indexBindingVars.push(a(""))},removeElementBinding(e){this.bindingComponentIds.splice(e,1),this.bindingComponents.splice(e,1),this.theBindingVars.splice(e,1),this.indexBindingVars.splice(e,1)},syncBindingVar(e,t){this.theBindingVars[t]=e},syncIndexBindingVar(e,t){this.indexBindingVars[t]=e,console.log(this.indexBindingVars)},toSExpr(){const e=this.elementExpr.toSExpr(),t=this.bindingComponents.map(o=>"for "+L(o)[0].toSExpr()).join(" "),n=this.hasPredicate?"if "+this.predicateExpr.toSExpr():"";return`(for/set {${e} ${t} ${n}})`},saveExpr(){return{exprType:"SetBuilderExpr",exprProps:this.exprProps,exprState:{elementExpr:this.elementExpr.saveExpr(),bindingComponents:this.bindingComponents.map(e=>L(e)[0].saveFragment()),theBindingVars:this.theBindingVars.map(e=>L(e)),indexBindingVars:this.indexBindingVars.map(e=>L(e)),predicateExpr:this.predicateExpr.saveExpr()}}},loadExpr(e){const t=e.exprState;this.elementExpr.loadExpr(t.elementExpr),this.bindingN=-1,this.bindingComponentIds=[],this.bindingComponents=[];for(let n=0;n<t.bindingComponents.length;n++)this.addElementBinding(null),this.theBindingVars[n]=t.theBindingVars[n],this.indexBindingVars[n]=t.indexBindingVars[n];this.$nextTick(()=>{for(let n=0;n<t.bindingComponents.length;n++)L(this.bindingComponents[n])[0].loadFragment(t.bindingComponents[n])}),this.predicateExpr.loadExpr(t.predicateExpr)}}},ee=e=>($("data-v-33f587e6"),e=e(),P(),e),en={class:"block",ref:"block"},tn=ee(()=>s("span",null,"{",-1)),nn=ee(()=>s("span",null,"|",-1)),rn={key:0},on=["onClick"],sn={key:0},pn=ee(()=>s("span",null,"}",-1));function an(e,t,n,o,p,i){const r=S,u=W;return l(),d("div",en,[tn,m(r,{ref:"elementExpr",environment:n.environment,"parentheses-around":!1},null,8,["environment"]),nn,(l(!0),d(g,null,T(o.bindingComponentIds,(c,x)=>(l(),d(g,{key:c.id},[x>0?(l(),d("span",rn,",")):E("",!0),o.bindingComponentIds.length>1?(l(),d("div",{key:1,class:"i-mdi-minus-circle-outline icon",onClick:f(y=>i.removeElementBinding(x),["stop"])},null,8,on)):E("",!0),m(u,{ref_for:!0,ref:o.bindingComponents[x],bindingVar:o.theBindingVars[x],indexBindingVar:o.indexBindingVars[x],environment:n.environment,onElementBindingUpdated:(y,C)=>i.syncBindingVar(C,x),onIndexBindingUpdated:(y,C)=>i.syncIndexBindingVar(C,x)},null,8,["bindingVar","indexBindingVar","environment","onElementBindingUpdated","onIndexBindingUpdated"])],64))),128)),s("div",{class:"i-mdi-plus-circle-outline icon",ref:"addBinding",onClick:t[0]||(t[0]=f((...c)=>i.addElementBinding&&i.addElementBinding(...c),["stop"]))},null,512),o.hasPredicate?(l(),d("span",sn,",")):E("",!0),m(r,{ref:"predicateExpr",environment:n.environment,optional:"",onToggleExpr:t[1]||(t[1]=c=>o.hasPredicate=c)},null,8,["environment"]),pn],512)}var ln=h(Zt,[["render",an],["__scopeId","data-v-33f587e6"]]);const dn={props:{environment:{type:Array,default:[]}},setup(e){const t=a(""),n=a(null),o=a(!1),p=a(null);return{theBindingVar:t,bindingComponent:n,hasPredicate:o,predicateExpr:p}},methods:{syncBindingVar(e,t){this.theBindingVar=t},toSExpr(){const e=this.bindingComponent.toSExpr(),t=this.hasPredicate?` s.t. ${this.predicateExpr.toSExpr()}`:"";return`(find-one ${e}${t})`},saveExpr(){return{exprType:"FindOneExpr",exprState:{theBindingVar:this.theBindingVar,bindingComponent:this.bindingComponent.saveFragment(),predicateExpr:this.predicateExpr.saveExpr()}}},loadExpr(e){const t=e.exprState;this.theBindingVar=t.theBindingVar,this.bindingComponent.loadFragment(t.bindingComponent),this.predicateExpr.loadExpr(t.predicateExpr)}}},un=e=>($("data-v-ffb54bec"),e=e(),P(),e),cn={class:"block"},mn=un(()=>s("span",null,"some\xA0",-1)),xn={key:0};function hn(e,t,n,o,p,i){const r=W,u=S;return l(),d("div",cn,[mn,m(r,{indexable:!1,ref:"bindingComponent",bindingVar:o.theBindingVar,environment:n.environment,onElementBindingUpdated:i.syncBindingVar},null,8,["bindingVar","environment","onElementBindingUpdated"]),o.hasPredicate?(l(),d("span",xn,"s.t.")):E("",!0),m(u,{ref:"predicateExpr",environment:n.environment,optional:"",onToggleExpr:t[0]||(t[0]=c=>o.hasPredicate=c)},null,8,["environment"])])}var fn=h(dn,[["render",hn],["__scopeId","data-v-ffb54bec"]]);const _n={props:{environment:{type:Array,default:[]},exprProps:{type:Object,required:!0}},setup(e){const t=a(""),n=a(null),o=a(null);return{theBindingVar:t,bindingComponent:n,predicateExpr:o}},methods:{syncBindingVar(e,t){this.theBindingVar=t},toSExpr(){const e=this.bindingComponent.toSExpr(),t=`  ${this.predicateExpr.toSExpr()}`;return`(${this.exprProps.op} ${e}
    ${t})`},saveExpr(){return{exprType:"QuantifierExpr",exprProps:this.exprProps,exprState:{theBindingVar:this.theBindingVar,bindingComponent:this.bindingComponent.saveFragment(),predicateExpr:this.predicateExpr.saveExpr()}}},loadExpr(e){const t=e.exprState;this.theBindingVar=t.theBindingVar,this.bindingComponent.loadFragment(t.bindingComponent),this.predicateExpr.loadExpr(t.predicateExpr)}}},bn=e=>($("data-v-b5f1f672"),e=e(),P(),e),vn={class:"block"},yn={class:"quantifier"},gn=bn(()=>s("span",null,",",-1));function En(e,t,n,o,p,i){const r=W,u=S;return l(),d("div",vn,[s("span",yn,v(n.exprProps.opDisplay)+"\xA0",1),m(r,{indexable:!1,ref:"bindingComponent",bindingVar:o.theBindingVar,environment:n.environment,onElementBindingUpdated:i.syncBindingVar},null,8,["bindingVar","environment","onElementBindingUpdated"]),gn,m(u,{ref:"predicateExpr",environment:n.environment,onToggleExpr:t[0]||(t[0]=c=>e.hasPredicate=c)},null,8,["environment"])])}var Cn=h(_n,[["render",En],["__scopeId","data-v-b5f1f672"]]);const Sn={props:{environment:{type:Array,default:[]}},setup(e){const[t,n,o]=[a(null),a(null),a(null)];return{thenExpr:t,conditionExpr:n,elseExpr:o}},methods:{toSExpr(){const e=this.conditionExpr.toSExpr(),t=this.thenExpr.toSExpr(),n=this.elseExpr.toSExpr();return`(if ${e}
       ${t}
       ${n})`},saveExpr(){return{exprType:"IfOtherwiseExpr",exprState:{thenExpr:this.thenExpr.saveExpr(),conditionExpr:this.conditionExpr.saveExpr(),elseExpr:this.elseExpr.saveExpr()}}},loadExpr(e){const t=e.exprState;this.thenExpr.loadExpr(t.thenExpr),this.conditionExpr.loadExpr(t.conditionExpr),this.elseExpr.loadExpr(t.elseExpr)}}},M=e=>($("data-v-4f4327e6"),e=e(),P(),e),$n={class:"case"},Pn=M(()=>s("span",{class:"brace top"},"\u23A7",-1)),Bn=M(()=>s("span",null,"\xA0\xA0if\xA0",-1)),In=U(),Vn=M(()=>s("span",null,",",-1)),kn=M(()=>s("div",null,[s("span",{class:"brace mid"},"\u23A8")],-1)),Tn={class:"case"},wn=M(()=>s("span",{class:"brace bottom"},"\u23A9",-1)),On=M(()=>s("span",null,"\xA0\xA0otherwise",-1));function Fn(e,t,n,o,p,i){const r=S;return l(),d("div",null,[s("div",$n,[Pn,m(r,{ref:"thenExpr",environment:n.environment},null,8,["environment"]),Bn,m(r,{ref:"conditionExpr",environment:n.environment},null,8,["environment"]),In,Vn]),kn,s("div",Tn,[wn,m(r,{ref:"elseExpr",environment:n.environment},null,8,["environment"]),On])])}var An=h(Sn,[["render",Fn],["__scopeId","data-v-4f4327e6"]]);const Dn={props:{environment:{type:Array,default:[]},exprProps:{type:Object,required:!0}},setup(e){return{brackets:D({l:e.exprProps.lBracket?e.exprProps.lBracket:"(",r:e.exprProps.rBracket?e.exprProps.rBracket:")"})}},methods:{toSExpr(){const e=this.$refs.operand1.toSExpr(),t=this.$refs.operand2.toSExpr();return`(${this.exprProps.op} ${e} ${t})`},saveExpr(){return{exprType:"BinaryOpExpr",exprProps:this.exprProps,exprState:{operand1:this.$refs.operand1.saveExpr(),operand2:this.$refs.operand2.saveExpr()}}},loadExpr(e){const t=e.exprState;this.$refs.operand1.loadExpr(t.operand1),this.$refs.operand2.loadExpr(t.operand2)}}},Nn={key:0},Rn={key:1},Ln={key:2},Un={key:3};function Mn(e,t,n,o,p,i){const r=S;return l(),d("div",null,[n.exprProps.infix?E("",!0):(l(),d("span",Nn,v(n.exprProps.opDisplay)+v(o.brackets.l),1)),m(r,{ref:"operand1",environment:n.environment},null,8,["environment"]),n.exprProps.infix?(l(),d("span",Rn,v(n.exprProps.opDisplay),1)):(l(),d("span",Ln,",")),m(r,{ref:"operand2",environment:n.environment},null,8,["environment"]),n.exprProps.infix?E("",!0):(l(),d("span",Un,v(o.brackets.r),1))])}var Gn=h(Dn,[["render",Mn],["__scopeId","data-v-3bd60f01"]]);const jn={props:{environment:{type:Array,default:[]},exprProps:{type:Object,required:!0}},setup(e){return{brackets:D({l:e.exprProps.lBracket?e.exprProps.lBracket:"(",r:e.exprProps.rBracket?e.exprProps.rBracket:")"})}},methods:{toSExpr(){const e=this.$refs.operand1.toSExpr(),t=this.$refs.operand2.toSExpr(),n=this.$refs.operand3.toSExpr();return`(${this.exprProps.op} ${e} ${t} ${n})`},saveExpr(){return{exprType:"BinaryOpExpr",exprProps:this.exprProps,exprState:{operand1:this.$refs.operand1.saveExpr(),operand2:this.$refs.operand2.saveExpr(),operand3:this.$refs.operand3.saveExpr()}}},loadExpr(e){const t=e.exprState;this.$refs.operand1.loadExpr(t.operand1),this.$refs.operand2.loadExpr(t.operand2),this.$refs.operand3.loadExpr(t.operand3)}}},$e=e=>($("data-v-73d40560"),e=e(),P(),e),qn=$e(()=>s("span",null,",",-1)),Kn=$e(()=>s("span",null,",",-1));function Hn(e,t,n,o,p,i){const r=S;return l(),d("div",null,[s("span",null,v(n.exprProps.opDisplay)+v(o.brackets.l),1),m(r,{ref:"operand1",environment:n.environment},null,8,["environment"]),qn,m(r,{ref:"operand2",environment:n.environment},null,8,["environment"]),Kn,m(r,{ref:"operand3",environment:n.environment},null,8,["environment"]),s("span",null,v(o.brackets.r),1)])}var Wn=h(jn,[["render",Hn],["__scopeId","data-v-73d40560"]]);const zn={props:{environment:{type:Array,default:[]},exprProps:{type:Object,required:!0}},setup(e){return{brackets:D({l:e.exprProps.lBracket?e.exprProps.lBracket:"(",r:e.exprProps.rBracket?e.exprProps.rBracket:")"})}},methods:{toSExpr(){const e=this.$refs.operand.toSExpr();return`(${this.exprProps.op} ${e})`},saveExpr(){return{exprType:"UnaryOpExpr",exprProps:this.exprProps,exprState:{operand:this.$refs.operand.saveExpr()}}},loadExpr(e){const t=e.exprState;this.$refs.operand.loadExpr(t.operand)}}};function Jn(e,t,n,o,p,i){const r=S;return l(),d("div",null,[s("span",null,v(n.exprProps.opDisplay)+v(o.brackets.l),1),m(r,{ref:"operand",environment:n.environment},null,8,["environment"]),s("span",null,v(o.brackets.r),1)])}var Qn=h(zn,[["render",Jn],["__scopeId","data-v-92698d6c"]]);const te={props:{environment:{type:Array,default:[]},exprProps:{type:Object,required:!0}},setup(e){const t=a(""),n=a(!1),o=w(()=>({borderColor:n.value?"rgba(0, 0, 0, 0)":b.BORDER_COLOR_ACTIVE,backgroundColor:n.value?b.GLOBAL_BACKGROUND:b.BACKGROUND_COLOR_ACTIVE,width:"20px",hoverWidth:"20px",inputWidth:`${t.value?t.value.toString().length*15:15}px`,minHeight:"30px",fontSize:"20px",marginBottom:"5px",marginTop:"5px"}));return{n:t,isFilled:n,computedStyle:o}},methods:{enforceNumber(e){this.n=this.n.replace(/\D/g,"")},outFocus(e){this.isFilled=this.n!=""},toSExpr(){return this.n},saveExpr(){return{exprType:"NumberExpr",exprProps:this.exprProps,exprState:{n:this.n}}},loadExpr(e){const t=e.exprState;this.n=t.n,this.isFilled=this.theVar!=""}}},Pe=()=>{O(e=>({"71484618":e.computedStyle.width,"727ff372":e.computedStyle.minHeight,df1fb616:e.computedStyle.marginTop,"4ba9128b":e.computedStyle.marginBottom,"7741f6fa":e.computedStyle.backgroundColor,"25d29b45":e.computedStyle.borderColor,"17bc777c":e.computedStyle.hoverWidth,"03af7b02":e.computedStyle.fontSize,"5a47d1ae":e.computedStyle.inputWidth}))},Be=te.setup;te.setup=Be?(e,t)=>(Pe(),Be(e,t)):Pe;const Xn=te,Yn={class:"hole"};function Zn(e,t,n,o,p,i){return l(),d("div",Yn,[_(s("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>o.n=r),onInput:t[1]||(t[1]=(...r)=>i.enforceNumber&&i.enforceNumber(...r)),onBlur:t[2]||(t[2]=(...r)=>i.outFocus&&i.outFocus(...r)),placeholder:"n",maxlength:"3"},null,544),[[V,o.n]])])}var er=h(Xn,[["render",Zn],["__scopeId","data-v-5854a397"]]);const ne={props:{environment:{type:Array,default:[]},exprProps:{type:Object,required:!0}},setup(e){return{computedStyle:w(()=>({fontSize:"20px"}))}},methods:{toSExpr(){return this.exprProps.theConst},saveExpr(){return{exprType:"ConstantExpr",exprProps:this.exprProps}},loadExpr(e){}}},Ie=()=>{O(e=>({fb973ae6:e.computedStyle.fontSize}))},Ve=ne.setup;ne.setup=Ve?(e,t)=>(Ie(),Ve(e,t)):Ie;const tr=ne,nr={class:"block"},rr=["innerHTML"];function or(e,t,n,o,p,i){return l(),d("div",nr,[s("span",{innerHTML:n.exprProps.constDisplay},null,8,rr)])}var sr=h(tr,[["render",or],["__scopeId","data-v-3d0a84cb"]]);const re={props:{environment:{type:Array,default:[]},exprProps:{type:Object,required:!0}},setup(e){const t=a(""),n=a(!1),o=w(()=>({borderColor:n.value?"rgba(0, 0, 0, 0)":b.BORDER_COLOR_ACTIVE,backgroundColor:n.value?b.GLOBAL_BACKGROUND:b.BACKGROUND_COLOR_ACTIVE,width:"20px",hoverWidth:"20px",inputWidth:`${t.value?t.value.length*15:15}px`,minHeight:"30px",fontSize:"20px",marginBottom:"5px",marginTop:"5px"}));return{theSymb:t,isFilled:n,computedStyle:o}},methods:{outFocus(e){this.isFilled=this.theSymb!=""},toSExpr(){return`'${this.theSymb}`},saveExpr(){return{exprType:"SymbolExpr",exprProps:this.exprProps,exprState:{theSymb:this.theSymb}}},loadExpr(e){const t=e.exprState;this.theSymb=t.theSymb,this.isFilled=this.theSymb!=""}}},ke=()=>{O(e=>({"279396d7":e.computedStyle.width,"6ef216aa":e.computedStyle.minHeight,"38a23558":e.computedStyle.marginTop,"65aa0348":e.computedStyle.marginBottom,"506402b4":e.computedStyle.backgroundColor,ec7bc230:e.computedStyle.borderColor,"75cc7379":e.computedStyle.hoverWidth,"0ecf5b82":e.computedStyle.fontSize,"8f5064aa":e.computedStyle.inputWidth}))},Te=re.setup;re.setup=Te?(e,t)=>(ke(),Te(e,t)):ke;const ir=re,pr={class:"hole"};function ar(e,t,n,o,p,i){return l(),d("div",pr,[_(s("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>o.theSymb=r),onBlur:t[1]||(t[1]=(...r)=>i.outFocus&&i.outFocus(...r)),placeholder:"a",maxlength:"3"},null,544),[[V,o.theSymb]])])}var lr=h(ir,[["render",ar],["__scopeId","data-v-37fa1aaa"]]);const oe={props:{environment:{type:Array,default:[]},exprProps:{type:Object,required:!0}},setup(e){const t=a(""),n=a(!1),o=w(()=>({borderColor:n.value?"rgba(0, 0, 0, 0)":b.BORDER_COLOR_ACTIVE,backgroundColor:n.value?b.GLOBAL_BACKGROUND:b.BACKGROUND_COLOR_ACTIVE,width:"20px",hoverWidth:"20px",inputWidth:`${t.value?t.value.length*15:15}px`,minHeight:"30px",fontSize:"20px",marginBottom:"5px",marginTop:"5px"}));return{theVar:t,isFilled:n,computedStyle:o}},methods:{outFocus(e){this.isFilled=this.theVar!=""},toSExpr(){return this.theVar+"_"},saveExpr(){return{exprType:"VariableExpr",exprProps:this.exprProps,exprState:{theVar:this.theVar}}},loadExpr(e){const t=e.exprState;this.theVar=t.theVar,this.isFilled=this.theVar!=""}}},we=()=>{O(e=>({"43722078":e.computedStyle.width,"79453117":e.computedStyle.minHeight,"42f54fc5":e.computedStyle.marginTop,"3b0b948a":e.computedStyle.marginBottom,"7fecd353":e.computedStyle.backgroundColor,"4bb85215":e.computedStyle.borderColor,"9446b2a8":e.computedStyle.hoverWidth,"0971b632":e.computedStyle.fontSize,"0f2ffe44":e.computedStyle.inputWidth}))},Oe=oe.setup;oe.setup=Oe?(e,t)=>(we(),Oe(e,t)):we;const dr=oe,ur={class:"hole"};function cr(e,t,n,o,p,i){return l(),d("div",ur,[_(s("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>o.theVar=r),onBlur:t[1]||(t[1]=(...r)=>i.outFocus&&i.outFocus(...r)),placeholder:"x",maxlength:"3"},null,544),[[V,o.theVar]])])}var mr=h(dr,[["render",cr],["__scopeId","data-v-5e1547f1"]]);const xr={props:{environment:{type:Array,default:[]}},setup(e){const t=a(""),n=a(null),o=a(null);return{theBindingVar:t,imageComponent:n,bindingComponent:o}},methods:{syncBindingVar(e,t){this.theBindingVar=t},toSExpr(){const e=this.imageComponent.toSExpr();return`(mapping ${this.bindingComponent.toSExpr()} ~>
       ${e})`},saveExpr(){return{exprType:"MappingBuilderExpr",exprState:{theBindingVar:this.theBindingVar,imageComponent:this.imageComponent.saveExpr(),bindingComponent:this.bindingComponent.saveFragment()}}},loadExpr(e){const t=e.exprState;this.theBindingVar=t.theBindingVar,this.imageComponent.loadExpr(t.imageComponent),this.bindingComponent.loadFragment(t.bindingComponent)}}},z=e=>($("data-v-1e151878"),e=e(),P(),e),hr={class:"block"},fr=z(()=>s("span",null,"[",-1)),_r=z(()=>s("span",null,"\u27FC",-1)),br=z(()=>s("span",null,"|",-1)),vr=z(()=>s("span",null,"]",-1));function yr(e,t,n,o,p,i){const r=Z,u=S,c=W;return l(),d("div",hr,[fr,m(r,{bindingVar:o.theBindingVar,onBindingUpdated:i.syncBindingVar},null,8,["bindingVar","onBindingUpdated"]),_r,m(u,{ref:"imageComponent",environment:n.environment},null,8,["environment"]),br,m(c,{ref:"bindingComponent",indexable:!1,environment:n.environment,bindingVar:o.theBindingVar,onElementBindingUpdated:i.syncBindingVar},null,8,["environment","bindingVar","onElementBindingUpdated"]),vr])}var gr=h(xr,[["render",yr],["__scopeId","data-v-1e151878"]]);const Er={props:{environment:{type:Array,default:[]}},setup(e){const t=a(null),n=a(null);return{mapping:t,theKey:n}},methods:{toSExpr(){return`(${this.mapping.toSExpr()} ${this.theKey.toSExpr()})`},saveExpr(){return{exprType:"MappingLookupExpr",exprState:{mapping:this.mapping.saveExpr(),theKey:this.theKey.saveExpr()}}},loadExpr(e){const t=e.exprState;this.mapping.loadExpr(t.mapping),this.theKey.loadExpr(t.theKey)}}},Fe=e=>($("data-v-58541e61"),e=e(),P(),e),Cr=Fe(()=>s("span",null,"(",-1)),Sr=Fe(()=>s("span",null,")",-1));function $r(e,t,n,o,p,i){const r=S;return l(),d("div",null,[m(r,{ref:"mapping",environment:n.environment},null,8,["environment"]),Cr,m(r,{ref:"theKey",environment:n.environment},null,8,["environment"]),Sr])}var Pr=h(Er,[["render",$r],["__scopeId","data-v-58541e61"]]);const se={props:{environment:{type:Array,default:[]},exprProps:{theId:{type:String,required:!0},idDisplay:{type:String,required:!0},toSExpression:{type:Function,default:e=>e}}},setup(e){const t=w(()=>e.environment.some(o=>o.exprs.some(p=>p.exprProps.theId===e.exprProps.theId))),n=w(()=>({fontSize:"20px",backgroundColor:t.value?"rgba(0, 0, 0, 0)":b.ERROR_COLOR}));return{boundedId:t,computedStyle:n}},methods:{toSExpr(){return console.log(this.exprProps.theId),console.log(typeof this.exprProps.toSExpression),this.exprProps.toSExpression(this.exprProps.theId)},saveExpr(){const e=J(this.exprProps);return e.toSExpression=e.toSExpression.toString(),{exprType:"IdExpr",exprProps:e}},loadExpr(e){}}},Ae=()=>{O(e=>({"0d352ba0":e.computedStyle.fontSize,"51e5f3b6":e.computedStyle.backgroundColor}))},De=se.setup;se.setup=De?(e,t)=>(Ae(),De(e,t)):Ae;const Br=se,Ir={class:"block"},Vr=["innerHTML"];function kr(e,t,n,o,p,i){return l(),d("div",Ir,[s("span",{innerHTML:n.exprProps.idDisplay},null,8,Vr)])}var Tr=h(Br,[["render",kr],["__scopeId","data-v-a48ab820"]]);const ie=I({props:{exprType:{type:Object,default:X},parenthesesAround:{type:Boolean,default:!0},environment:{type:Array,default:[]},optional:Boolean},setup(e){const t={HoleExpr:X,SetBuilderExpr:ln,FindOneExpr:fn,QuantifierExpr:Cn,IfOtherwiseExpr:An,BinaryOpExpr:Gn,TernaryOpExpr:Wn,UnaryOpExpr:Qn,NumberExpr:er,ConstantExpr:sr,SymbolExpr:lr,VariableExpr:mr,MappingBuilderExpr:gr,MappingLookupExpr:Pr,IdExpr:Tr},n=K("exprClipboard",null),o=K("updateClipboard"),p=a(!e.optional),i=a(null),r=a(!1);me(i,q=>{r.value=!1});const u=a(null);me(u,q=>{u.value.visible&&(u.value.hide(),c.value=!1,q.stopPropagation())});const c=a(!1),x=Ye(null),y=D({}),C=xe(e.exprType),B=a(!1),A=D({hover:!1,fixed:!1}),R=a(!0),Ue=w(()=>{const q=A.hover,Me=A.fixed;return{parenthesesColor:B.value?Me?"black":q?"gray":"rgba(0, 0, 0, 0)":"rgba(0, 0, 0, 0)",borderSize:c.value?"2px":"0px"}});return{exprTypeComponents:t,exprClipboard:n,updateClipboard:o,active:p,exprSelect:i,exprSelecting:r,contextMenu:u,focused:c,expr:x,exprProps:y,exprComponent:C,isFilledExpr:B,parenthesesState:A,childNeedParentheses:R,computedStyle:Ue}},methods:{openExprSelect(e){this.isFilledExpr||(this.exprSelecting=!0)},closeExprSelect(e){this.exprSelecting=!1},onExprSelected(e){this.exprSelecting=!1,this.exprProps=e.exprProps,this.exprComponent=this.exprTypeComponents[e.exprType],this.isFilledExpr=!0,this.childNeedParentheses="noParentheses"in this.exprProps?!this.exprProps.noParentheses:!0,this.$emit("toggleExpr",this.isFilledExpr)},openContextMenu(e){this.contextMenu.show(),this.focused=!0},onMenuItemSelected(e){switch(e){case"delete":this.removeExpr(null);break;case"copy":this.copyExpr(null);break;case"cut":this.copyExpr(null),this.removeExpr(null);break;case"paste":this.pasteExpr(null);break}this.contextMenu.hide(),this.focused=!1},removeExpr(e){this.exprComponent=X,this.isFilledExpr=!1,this.$emit("toggleExpr",this.isFilledExpr)},copyExpr(e){console.log("copy"),this.updateClipboard(J(this.saveExpr()))},pasteExpr(e){this.exprClipboard!=null&&this.loadExpr(J(this.exprClipboard))},toSExpr(){return this.expr.toSExpr()},saveExpr(){return ue(de({},this.expr.saveExpr()),{parenthesesState_fixed:ce(this.parenthesesState.fixed)})},loadExpr(e){this.parenthesesState.fixed=e.parenthesesState_fixed,"exprProps"in e&&("toSExpression"in e.exprProps&&(console.log(e.exprProps.toSExpression),e.exprProps.toSExpression=new Function("return "+e.exprProps.toSExpression.toString())()),this.exprProps=e.exprProps),this.exprComponent=this.exprTypeComponents[e.exprType],this.childNeedParentheses="noParentheses"in this.exprProps?!this.exprProps.noParentheses:!0,this.isFilledExpr=e.exprType!=="HoleExpr",this.$emit("toggleExpr",this.isFilledExpr),this.$nextTick(()=>{this.expr.loadExpr(e)})}}}),Ne=()=>{O(e=>({b420ccc8:e.computedStyle.borderSize,"7fd863b8":e.computedStyle.parenthesesColor}))},Re=ie.setup;ie.setup=Re?(e,t)=>(Ne(),Re(e,t)):Ne;const wr=ie,Or={class:"main"};function Fr(e,t,n,o,p,i){const r=Mt,u=kt;return l(),d("div",null,[e.exprSelecting?(l(),j(r,{key:0,ref:"exprSelect",environment:e.environment,onExprSelected:e.onExprSelected},null,8,["environment","onExprSelected"])):E("",!0),m(u,{ref:"contextMenu",deleteDisabled:!e.isFilledExpr,copyCutDisabled:!e.isFilledExpr,onMenuItemSelected:e.onMenuItemSelected},null,8,["deleteDisabled","copyCutDisabled","onMenuItemSelected"]),s("div",Or,[e.parenthesesAround&&e.isFilledExpr&&e.childNeedParentheses?(l(),d("span",{key:0,class:"parentheses",onMouseover:t[0]||(t[0]=f(c=>e.parenthesesState.hover=!0,["stop"])),onMouseleave:t[1]||(t[1]=f(c=>e.parenthesesState.hover=!1,["stop"])),onClick:t[2]||(t[2]=f(c=>e.parenthesesState.fixed=!e.parenthesesState.fixed,["stop"]))},"(",32)):E("",!0),(l(),j(Ze(e.exprComponent),{optional:e.optional,active:e.active,exprProps:e.exprProps,environment:e.environment,onClick:f(e.openExprSelect,["stop"]),onContextmenu:f(e.openContextMenu,["stop","prevent"]),ref:"expr"},null,8,["optional","active","exprProps","environment","onClick","onContextmenu"])),e.parenthesesAround&&e.isFilledExpr&&e.childNeedParentheses?(l(),d("span",{key:1,class:"parentheses",onMouseover:t[3]||(t[3]=f(c=>e.parenthesesState.hover=!0,["stop"])),onMouseleave:t[4]||(t[4]=f(c=>e.parenthesesState.hover=!1,["stop"])),onClick:t[5]||(t[5]=f(c=>e.parenthesesState.fixed=!e.parenthesesState.fixed,["stop"]))},")",32)):E("",!0)])])}var S=h(wr,[["render",Fr],["__scopeId","data-v-d06c063c"]]);const Ar=I({props:{environment:{type:Array,default:[]},toProblemInfo:{type:Object,required:!0}},setup(e){return{fieldComponents:a([])}},methods:{toSExpr(){const e=this.toProblemInfo.instanceFields.map((t,n)=>`[${t.name} ${this.fieldComponents[n].toSExpr()}]`).join(`
    `);return`(create-${this.toProblemInfo.name}-instance
    (${e}))`},saveStmt(){return{stmtType:"ToInstanceStmt",stmtState:{fieldComponents:this.fieldComponents.map(e=>e.saveExpr())}}},loadStmt(e){const t=e.stmtState;this.fieldComponents.forEach((n,o)=>n.loadExpr(t.fieldComponents[o]))}}}),G=e=>($("data-v-24655165"),e=e(),P(),e),Dr=G(()=>s("span",null,"(",-1)),Nr={key:0},Rr=G(()=>s("sub",null,"x",-1)),Lr=G(()=>s("span",null,")",-1)),Ur=G(()=>s("span",null,"=",-1)),Mr=G(()=>s("span",null,"(",-1)),Gr={key:0},jr=G(()=>s("span",null,")",-1));function qr(e,t,n,o,p,i){const r=S;return l(),d("div",{class:"block",onContextmenu:t[0]||(t[0]=f(u=>e.toSExpr(),["stop","prevent"]))},[Dr,(l(!0),d(g,null,T(e.toProblemInfo.instanceFields,(u,c)=>(l(),d(g,{key:u.name},[c>0?(l(),d("span",Nr,",")):E("",!0),s("span",null,[U(v(u.name),1),Rr])],64))),128)),Lr,Ur,Mr,(l(!0),d(g,null,T(e.toProblemInfo.instanceFields,(u,c)=>(l(),d(g,{key:u.name},[c>0?(l(),d("span",Gr,",")):E("",!0),m(r,{ref_for:!0,ref:x=>{x!==null&&(e.fieldComponents[c]=x)},environment:e.environment,parenthesesAround:!1},null,8,["environment"])],64))),128)),jr],32)}var Kr=h(Ar,[["render",qr],["__scopeId","data-v-24655165"]]);const Hr={emits:["letRightClicked"],props:{environment:{type:Array,default:[]}},setup(e){const[t,n,o]=[a(""),a(null),a(null)];return{theBindingVar:t,bindingVariable:n,boundExpr:o}},methods:{syncBindingVar(e,t){this.theBindingVar=t},toSExpr(){return console.log(`(define ${this.bindingVariable.toSExpr()} ${this.boundExpr.toSExpr()})`),`(define ${this.bindingVariable.toSExpr()} ${this.boundExpr.toSExpr()})`},saveStmt(){return{stmtType:"LetStmt",stmtState:{theBindingVar:this.theBindingVar,boundExpr:this.boundExpr.saveExpr()}}},loadStmt(e){const t=e.stmtState;this.theBindingVar=t.theBindingVar,this.boundExpr.loadExpr(t.boundExpr)},testSave(){console.log(JSON.stringify(this.saveStmt()))}}},Wr={class:"block"};function zr(e,t,n,o,p,i){const r=Z,u=S;return l(),d("div",Wr,[s("span",{onContextmenu:t[0]||(t[0]=f(c=>e.$emit("letRightClicked"),["prevent"]))},"Let\xA0",32),m(r,{ref:"bindingVariable",bindingVar:o.theBindingVar,onBindingUpdated:i.syncBindingVar,maxVarLength:3},null,8,["bindingVar","onBindingUpdated"]),s("span",{onContextmenu:t[1]||(t[1]=f(()=>{},["prevent"]))},"=",32),m(u,{ref:"boundExpr",environment:n.environment,parenthesesAround:!1},null,8,["environment"])])}var Jr=h(Hr,[["render",zr],["__scopeId","data-v-1b7c5a35"]]);const Qr=I({props:{fromProblemInfo:{type:Object,default:{name:"test",instanceFields:[{name:"G"},{name:"H"}]}},toProblemInfo:{type:Object,default:{name:"test",instanceFields:[{name:"I"},{name:"J"},{name:"K"}]}},constructionType:{type:String,required:!0}},setup(e){}}),N=e=>($("data-v-788bd57f"),e=e(),P(),e),Xr={class:"block"},Yr=N(()=>s("span",null,"Given\xA0",-1)),Zr=N(()=>s("span",null,"y=(",-1)),eo={key:0},to=N(()=>s("sub",null,"y",-1)),no=N(()=>s("span",null,")",-1)),ro=N(()=>s("span",null,", x=(",-1)),oo={key:0},so=N(()=>s("sub",null,"x",-1)),io=N(()=>s("span",null,"),\xA0",-1)),po=U("c"),ao={key:0},lo={key:1};function uo(e,t,n,o,p,i){return l(),d("div",Xr,[Yr,Zr,(l(!0),d(g,null,T(e.fromProblemInfo.instanceFields,(r,u)=>(l(),d(g,{key:r.name},[u>0?(l(),d("span",eo,",")):E("",!0),s("span",null,[U(v(r.name),1),to])],64))),128)),no,e.constructionType!=="forwardInstance"?(l(),d(g,{key:0},[ro,(l(!0),d(g,null,T(e.toProblemInfo.instanceFields,(r,u)=>(l(),d(g,{key:r.name},[u>0?(l(),d("span",oo,",")):E("",!0),s("span",null,[U(v(r.name),1),so])],64))),128)),io,s("span",null,[po,e.constructionType==="backwardCertificate"?(l(),d("sup",ao,"x")):(l(),d("sup",lo,"y"))])],64)):E("",!0)])}var co=h(Qr,[["render",uo],["__scopeId","data-v-788bd57f"]]);const mo=I({props:{fromProblemInfo:{type:Object,required:!0},toProblemInfo:{type:Object,required:!0},constructionType:{type:String,default:"forwardInstance"}},setup(e){const t=a([]),n=a([]),o=a(0),p=a(null),i=a(null);return{letComponentIds:t,letComponents:n,letN:o,toInstanceStmt:p,certificateExpr:i}},computed:{environment(){const e=this.fromProblemInfo,t=this.toProblemInfo,n=e.abbrev,o=this.toProblemInfo.abbrev,p=this.constructionType==="forwardCertificate"?"y":"x",i=this.constructionType;return[{name:"Instance/Certificate",exprs:[...e.instanceFields.map(r=>({display:`${r.name}<sub>y</sub>`,description:`${r.name} field of the problem instance reduced from`,exprProps:{theId:r.name,idDisplay:`${r.name}<sub>y</sub>`,noParentheses:!0,toSExpression:Function("theId",`return '('+theId+' a-${n}-inst)'`)},exprType:"IdExpr"})),...i==="forwardInstance"?[]:t.instanceFields.map(r=>({display:`${r.name}<sub>x</sub>`,description:`${r.name} field of the problem instance reduced to`,exprProps:{theId:r.name,idDisplay:`${r.name}<sub>x</sub>`,noParentheses:!0,toSExpression:Function("theId","return `(${theId} target-inst)`")},exprType:"IdExpr"})).concat({display:`c<sup>${p}</sup>`,description:`the certificate of the problem instance reduced 
                                              ${i==="forwardCertificate"?"from":"to"}`,exprProps:{theId:`a-${i==="forwardCertificate"?n:o}-cert`,noParentheses:!0,idDisplay:`c<sup>${p}</sup>`,toSExpression:r=>r},exprType:"IdExpr"})]}]}},methods:{addLetBinding(e){this.letComponentIds.push(++this.letN)},removeLetBinding(e){this.letComponentIds.splice(e,1),this.letComponents.splice(e,1)},toSExpr(){const e=this.fromProblemInfo.name,t=this.toProblemInfo.name,n=this.fromProblemInfo.abbrev,o=this.toProblemInfo.abbrev,p=this.constructionType==="forwardInstance"?"forward-instance":this.constructionType==="forwardCertificate"?"forward-certificate":"backward-certificate",i=`${n}->${o}`,r=`${n}->${o}->>-cert`,u=`${n}->${o}-<<-cert`,c=this.constructionType==="forwardInstance"?`(${i} a-${n}-inst)`:this.constructionType==="forwardCertificate"?`(${r} s->t-constr a-${n}-inst a-${n}-cert)`:`(${u} s->t-constr a-${n}-inst a-${o}-cert)`,x=this.letComponents.map(C=>C.toSExpr()).join(`
  `),y=this.constructionType==="forwardInstance"?this.toInstanceStmt.toSExpr():this.certificateExpr.toSExpr();return`(define-${p}-construction
  #:source ${e} #:target ${t}
  `+c+`
  `+x+`
  `+y+`
)`},saveConstruction(){return{letComponents:this.letComponents.map(e=>e.saveStmt()),toResult:this.constructionType=="forwardInstance"?this.toInstanceStmt.saveStmt():this.certificateExpr.saveExpr()}},loadConstruction(e){this.letN=0;for(let t=0;t<this.letComponentIds.length;t++)this.removeLetBinding(t);for(let t=0;t<e.letComponents.length;t++)this.addLetBinding(null);this.$nextTick(()=>{for(let t=0;t<e.letComponents.length;t++)this.letComponents[t].loadStmt(e.letComponents[t])}),this.constructionType=="forwardInstance"?this.toInstanceStmt.loadStmt(e.toResult):this.certificateExpr.loadExpr(e.toResult)}}}),pe=e=>($("data-v-faec6da2"),e=e(),P(),e),xo=pe(()=>s("div",{class:"i-mdi-plus-box-outline icon"},null,-1)),ho=pe(()=>s("div",null," let ... = .... ",-1)),fo=[xo,ho],_o={key:1,class:"certStmt"},bo=U("c"),vo={key:0},yo={key:1},go=pe(()=>s("span",null,"=",-1));function Eo(e,t,n,o,p,i){const r=co,u=Jr,c=Kr,x=S;return l(),d("div",null,[m(r,{constructionType:e.constructionType,fromProblemInfo:e.fromProblemInfo,toProblemInfo:e.toProblemInfo},null,8,["constructionType","fromProblemInfo","toProblemInfo"]),(l(!0),d(g,null,T(e.letComponentIds,(y,C)=>(l(),j(u,{key:y,ref_for:!0,ref:B=>{B!==null&&(e.letComponents[C]=B)},environment:e.environment,onLetRightClicked:B=>e.removeLetBinding(C)},null,8,["environment","onLetRightClicked"]))),128)),s("div",{class:"addStmt",onClick:t[0]||(t[0]=f((...y)=>e.addLetBinding&&e.addLetBinding(...y),["stop"]))},fo),e.constructionType=="forwardInstance"?(l(),j(c,{key:0,ref:"toInstanceStmt",environment:e.environment,toProblemInfo:e.toProblemInfo},null,8,["environment","toProblemInfo"])):(l(),d("div",_o,[s("span",null,[bo,e.constructionType=="forwardCertificate"?(l(),d("sup",vo,"x")):(l(),d("sup",yo,"y"))]),go,m(x,{ref:"certificateExpr",environment:e.environment},null,8,["environment"])]))])}var Co=h(mo,[["render",Eo],["__scopeId","data-v-faec6da2"]]);const So=function(){return Date.valueOf()},$o=I({props:{title:{type:String,default:"Problem"},problemList:{type:Array,default:[]}},emits:["problemDefinitionChanged"],setup(e){const t=a(-1),n=a(""),o=a(""),p=a([]);return{problemIdxChosen:t,problemName:n,problemAbbrev:o,instanceFields:p}},methods:{problemSelected(e){this.loadProblem(this.problemList[this.problemIdxChosen])},problemDefinitionChanged(e){this.$emit("problemDefinitionChanged",this.getProblemData())},fieldChanged(e){this.problemDefinitionChanged(null)},addField(){this.instanceFields.push({id:So(),name:""})},removeField(e){this.instanceFields.splice(e,1),this.problemDefinitionChanged(null)},getProblemData(){return{name:this.problemName,abbrev:this.problemAbbrev,instanceFields:this.instanceFields}},loadProblem(e){this.problemName=e.name,this.problemAbbrev=e.abbrev,this.instanceFields=e.instanceFields,this.problemDefinitionChanged(null)}}}),Po={class:"w-full max-w-screen-lg my-2"},Bo={class:"bg-white shadow-md rounded"},Io={class:"mt-1 text-xl text-slate-600 font-semibold select-none"},Vo=s("div",{class:"my-1 border-t-2 border-gray-200"},null,-1),ko=s("option",{disabled:"",value:"-1"},"Choose a problem",-1),To=["value"],wo=s("span",{class:"text-xl select-none"},"Problem Name:\xA0",-1),Oo=s("span",{class:"text-xl select-none"},"Short Name:\xA0",-1),Fo=s("div",{class:"text-xl select-none"},"Instance Fields",-1),Ao=["onUpdate:modelValue","onChange","onContextmenu"],Do=s("div",{class:"i-mdi-plus-box-outline text-lg text-gray-400 group-hover:text-blue-700 mx-5"},null,-1),No=[Do];function Ro(e,t,n,o,p,i){return l(),d("div",Po,[s("div",Bo,[s("div",Io,v(e.title),1),Vo,_(s("select",{class:"mx-2 border border-gray-400 rounded-sm text-gray-600 h-8 pl-5 pr-10 bg-white hover:border-gray-500 focus:outline-none appearance-none","onUpdate:modelValue":t[0]||(t[0]=r=>e.problemIdxChosen=r),onChange:t[1]||(t[1]=(...r)=>e.problemSelected&&e.problemSelected(...r))},[ko,(l(!0),d(g,null,T(e.problemList,(r,u)=>(l(),d("option",{key:r.name,value:u}," Problem: "+v(r.name),9,To))),128))],544),[[et,e.problemIdxChosen]]),s("div",null,[wo,_(s("input",{class:F(["px-1 hover:border-2 hover:border-blue-400 border-blue-700 focus:outline-none focus:border-2 rounded-sm mb-1",{"border-2":e.problemName===""}]),"onUpdate:modelValue":t[2]||(t[2]=r=>e.problemName=r),onInput:t[3]||(t[3]=(...r)=>e.updateName&&e.updateName(...r)),onChange:t[4]||(t[4]=(...r)=>e.problemDefinitionChanged&&e.problemDefinitionChanged(...r))},null,34),[[V,e.problemName,void 0,{trim:!0}]])]),s("div",null,[Oo,_(s("input",{class:F(["px-1 hover:border-2 hover:border-blue-400 border-blue-700 focus:outline-none focus:border-2 rounded-sm mb-1",{"border-2":e.problemAbbrev===""}]),"onUpdate:modelValue":t[5]||(t[5]=r=>e.problemAbbrev=r),onInput:t[6]||(t[6]=(...r)=>e.updateAbbrev&&e.updateAbbrev(...r)),onChange:t[7]||(t[7]=(...r)=>e.problemDefinitionChanged&&e.problemDefinitionChanged(...r))},null,34),[[V,e.problemAbbrev,void 0,{trim:!0}]])]),Fo,(l(!0),d(g,null,T(e.instanceFields,(r,u)=>(l(),d("div",{class:"my-1",key:r.id},[_(s("input",{class:F(["border-blue-700 focus:outline-none focus:border-2 w-15 mx-1",{"border-2":r.name===""}]),"onUpdate:modelValue":c=>r.name=c,onChange:c=>e.fieldChanged(u),onContextmenu:f(c=>e.removeField(u),["stop","prevent"])},null,42,Ao),[[V,r.name,void 0,{trim:!0}]])]))),128)),s("div",{class:"flex group mx-1 border-2 border-gray-200 hover:border-blue-400 w-15 mb-2",onClick:t[8]||(t[8]=f((...r)=>e.addField&&e.addField(...r),["stop"]))},No)])])}var Lo=h($o,[["render",Ro]]);const Uo=I({setup(e){const t=a("problemDefinition"),n=xe(null),o=R=>{console.log(R),n.value=R};he("exprClipboard",tt(n)),he("updateClipboard",o);const[p,i,r]=[a(null),a(null),a(null)];var u=[];u=[];const[c,x]=[a(null),a(null)],[y,C]=[a({name:"",abbrev:"",instanceFields:[]}),a({name:"",abbrev:"",instanceFields:[]})],B=a(null),A=a(null);return{tabNow:t,forwardInstanceComponent:p,backwardCertificateComponent:i,forwardCertificateComponent:r,problemList:u,fromProblem:c,toProblem:x,fromProblemInfo:y,toProblemInfo:C,crossFileCopy:A,selectedFile:B}},methods:{sendReductionToServer(){},exportSExprToFile(){const e=this.forwardInstanceComponent.toSExpr(),t=this.backwardCertificateComponent.toSExpr(),n=this.forwardCertificateComponent.toSExpr(),i=`;
; Generated with KarpEditor v0.1 on ${new Date().toLocaleString("en-US")}
;

`,r=`(require [union-in "${this.fromProblemInfo.name}.karp" "${this.toProblemInfo.name}.karp"])
(require karp/lib/graph
         karp/lib/cnf
         karp/lib/mapping-reduction)


`,u=`${this.fromProblemInfo.abbrev}->${this.toProblemInfo.abbrev}`,c=`${this.fromProblemInfo.abbrev}->${this.toProblemInfo.abbrev}->>-cert`,x=`${this.fromProblemInfo.abbrev}->${this.toProblemInfo.abbrev}-<<-cert`,y=`(check-reduction
  #:source ${this.fromProblemInfo.name}  #:target ${this.toProblemInfo.name}
  #:random-seed #f
  `+u+"  "+c+"  "+x+")",C=`#lang karp/reduction

`+i+r+e+`

`+t+`

`+n+`



`+y,B="text",A="reduction.karp";var R=new Blob([C],{type:B});fe.exports.saveAs(R,A)},saveToFile(){const e="text",t="reduction.vkarp",n=JSON.stringify(this.saveReduction());var o=new Blob([n],{type:e});fe.exports.saveAs(o,t)},loadFromFile(){const e=this.selectedFile.files[0],t=new FileReader;t.onload=n=>{this.loadReduction(JSON.parse(n.target.result))},t.readAsText(e)},saveReduction(){return{fromProblem:this.fromProblem.getProblemData(),toProblem:this.toProblem.getProblemData(),forwardInstanceComponent:this.forwardInstanceComponent.saveConstruction(),backwardCertificateComponent:this.backwardCertificateComponent.saveConstruction(),forwardCertificateComponent:this.forwardCertificateComponent.saveConstruction()}},loadReduction(e){this.fromProblem.loadProblem(e.fromProblem),this.toProblem.loadProblem(e.toProblem),this.$nextTick(()=>{this.forwardInstanceComponent.loadConstruction(e.forwardInstanceComponent),this.backwardCertificateComponent.loadConstruction(e.backwardCertificateComponent),this.forwardCertificateComponent.loadConstruction(e.forwardCertificateComponent)})},fromProblemChanged(e){this.fromProblemInfo=e},toProblemChanged(e){this.toProblemInfo=e}}});function Mo(e,t,n,o,p,i){const r=Lo,u=Co,c=$t;return l(),d("div",null,[s("input",{type:"file",ref:"selectedFile",style:{display:"none"},onChange:t[0]||(t[0]=(...x)=>e.loadFromFile&&e.loadFromFile(...x))},null,544),s("ul",null,[s("li",{onClick:t[1]||(t[1]=f(x=>e.tabNow="problemDefinition",["stop"])),class:F(["problemDef",{active:e.tabNow==="problemDefinition"}])}," \xA0Problem Definitions\xA0 ",2),s("li",{onClick:t[2]||(t[2]=f(x=>e.tabNow="forwardInstance",["stop"])),class:F({active:e.tabNow==="forwardInstance"})}," \xA0Forward Instance Construction\xA0 ",2),s("li",{onClick:t[3]||(t[3]=f(x=>e.tabNow="forwardCertificate",["stop"])),class:F({active:e.tabNow==="forwardCertificate"})}," \xA0Forward Certificate Construction\xA0 ",2),s("li",{onClick:t[4]||(t[4]=f(x=>e.tabNow="backwardCertificate",["stop"])),class:F({active:e.tabNow==="backwardCertificate"})}," \xA0Backward Certificate Construction\xA0 ",2),s("li",{class:F(["utility",{active:e.tabNow==="crossFileCopy"}]),onClick:t[5]||(t[5]=f(x=>{e.tabNow="crossFileCopy",e.crossFileCopy.updatePasteboard()},["stop"]))}," \xA0Crossfile Copy\xA0 ",2),s("li",{class:"export",onClick:t[6]||(t[6]=f((...x)=>e.saveToFile&&e.saveToFile(...x),["stop"]))},"\xA0Save\xA0"),s("li",{class:"export",onClick:t[7]||(t[7]=f(x=>e.selectedFile.click(),["stop"]))},"\xA0Load\xA0"),s("li",{class:"export",onClick:t[8]||(t[8]=f((...x)=>e.exportSExprToFile&&e.exportSExprToFile(...x),["stop"]))},"\xA0Export Reduction\xA0")]),_(s("div",null,[m(r,{title:"Reduced from",ref:"fromProblem",problemList:e.problemList,onProblemDefinitionChanged:e.fromProblemChanged},null,8,["problemList","onProblemDefinitionChanged"]),m(r,{title:"Reduced to",ref:"toProblem",problemList:e.problemList,onProblemDefinitionChanged:e.toProblemChanged},null,8,["problemList","onProblemDefinitionChanged"])],512),[[k,e.tabNow==="problemDefinition"]]),_(m(u,{ref:"forwardInstanceComponent",constructionType:"forwardInstance",fromProblemInfo:e.fromProblemInfo,toProblemInfo:e.toProblemInfo},null,8,["fromProblemInfo","toProblemInfo"]),[[k,e.tabNow==="forwardInstance"]]),_(m(u,{ref:"backwardCertificateComponent",constructionType:"backwardCertificate",fromProblemInfo:e.fromProblemInfo,toProblemInfo:e.toProblemInfo},null,8,["fromProblemInfo","toProblemInfo"]),[[k,e.tabNow==="backwardCertificate"]]),_(m(u,{ref:"forwardCertificateComponent",constructionType:"forwardCertificate",fromProblemInfo:e.fromProblemInfo,toProblemInfo:e.toProblemInfo},null,8,["fromProblemInfo","toProblemInfo"]),[[k,e.tabNow==="forwardCertificate"]]),_(m(c,{ref:"crossFileCopy"},null,512),[[k,e.tabNow==="crossFileCopy"]])])}var Go=h(Uo,[["render",Mo],["__scopeId","data-v-5d3cb4ac"]]);const jo={},qo={class:"h-screen"};function Ko(e,t){const n=Go;return l(),d("div",qo,[m(n)])}var Ho=h(jo,[["render",Ko],["__scopeId","data-v-07cc721f"]]);const Le=nt(Ho),Wo=rt({history:ot(),routes:ht});Le.use(Wo);Le.mount("#app");export{h as _};
